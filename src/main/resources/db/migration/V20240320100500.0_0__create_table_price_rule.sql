CREATE TABLE IF NOT EXISTS PRICE_MODALITY (
    ID INT NOT NULL,
    AMOUNT NUMBER(10,2),
    POINTS_AMOUNT NUMBER(10,2),
    ACCRUAL_POINTS NUMBER(10,2),
    PRICE_LIST_ID VARCHAR(255),
    ORDER_PRICE_ID INT NOT NULL
);
CREATE SEQUENCE IF NOT EXISTS PRICE_MODALITY_SEQ START WITH 1;
ALTER TABLE PRICE_MODALITY ADD CONSTRAINT IF NOT EXISTS PK_PRICE_MODALITY_ID PRIMARY KEY (ID) ENABLE;
CREATE INDEX IF NOT EXISTS ORDER_PRICE_ID_PRICE_MODALITY_INDEX on PRICE_MODALITY(ORDER_PRICE_ID) online;
COMMENT ON COLUMN PRICE_MODALITY.PRICE_LIST_ID is 'id da regra de pre√ßo vinda da calculadora';

ALTER TABLE ORDERS_PRICE ADD POINTS_MULTIPLIER NUMBER(5,2);
ALTER TABLE ORDERS_PRICE ADD MARKUP NUMBER(5,2);
ALTER TABLE ORDERS_PRICE ADD ACCRUAL_MULTIPLIER NUMBER(5,2);

ALTER TABLE SEGMENT MODIFY PARTNER_ID CLOB;